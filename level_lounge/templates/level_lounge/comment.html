{% block content %}

<div class="comment">
    <p><strong>{{ comment.author }}</strong> - {{ comment.created_at }}</p>
    <p>{{ comment.body }}</p>

    <!-- Form to reply to this comment -->
    <form method="post" action="{% url 'add_comment' post.slug %}">
        {% csrf_token %}
        <input type="hidden" name="parent_id" value="{{ comment.id }}">
        <textarea name="body" placeholder="Write a reply"></textarea>
        <button type="submit">Reply</button>
    </form>

    <!-- Display replies recursively -->
    <div class="replies">
        {% for reply in comment.replies.all %}
            {% include 'level_lounge/comment.html' with comment=reply %}
        {% endfor %}
    </div>
</div>

{% endblock %}